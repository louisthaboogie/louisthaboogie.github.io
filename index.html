<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>App Demo Louis</title>
  <script type="text/javascript" src="http://cdn-files.deezer.com/js/min/dz.js"></script> 
   <script type="text/javascript">

   DZ.init({
        appId  : '164835',
        channelUrl : 'http://louisthaboogie.github.io/channel.html',
        player : {
            onload : function() {
                console.log("DZ.init player.onload", arguments);
            }
        }
    });
   
  DZ.ready(function(sdk_options){
	console.log('DZ sdk is ready', sdk_options);
	/*
	{
		token : {
			access_token : {string},
			expire : {int}
		},
		player : {
			current_track : {track Object described in the api},
			muted : {boolean}
			repeat : {'0', '1', '2'},
			shuffle : {boolean},
			volume : {int [0-100]},
		}
	}
	*/
  });
  
  function add_to_playlist(){
  	
  	DZ.api('playlist/908622995/tracks', 'POST', {songs : "9839103"}, function(response){
	console.log("My track added to the playlist", response.id);
  	});
  	
  };  

</script>
</head>
<body>
 <h1>Demo app</h1>

<h2>Using DZ.login</h2>
<p>
<button class="btn btn-primary" onclick="DZ.login(function(){}, {perms:'manage_library, email'});">Try ask manage_library</button>
<a class="dz-addtoplaylist" data-id="302127"></a>
<button class="btn btn-primary" onclick="add_to_playlist();">add track 9839103 to playlist 908622995</button>
</p>


</body>
</html>
